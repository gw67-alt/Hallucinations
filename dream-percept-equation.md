P(d) = \sum_{i=1}^{n} \alpha_i \cdot f(s_i \rightarrow d_i) \cdot w_i

\text{where:}
\begin{align}
P(d) &= \text{Predicted dream percept} \\
s_i &= \text{Original sensory input or memory element} \\
d_i &= \text{Dream-state transformed element} \\
f(s_i \rightarrow d_i) &= \text{Substitution function mapping waking percepts to dream percepts} \\
\alpha_i &= \text{Activation coefficient for the i-th element} \\
w_i &= \text{Weight/importance factor for each substitution} \\
n &= \text{Total number of perceptual elements in the dream state}
\end{align}

\text{The substitution function } f \text{ can be further defined as:}

f(s_i \rightarrow d_i) = T(s_i) \cdot M(e_i) \cdot R(\theta)

\text{where:}
\begin{align}
T(s_i) &= \text{Transformation operator on sensory input } s_i \\
M(e_i) &= \text{Emotional modulation factor for element } i \\
R(\theta) &= \text{Randomness coefficient with parameter } \theta \text{ controlling dream bizarreness} \\
e_i &= \text{Emotional salience of element } i
\end{align}
